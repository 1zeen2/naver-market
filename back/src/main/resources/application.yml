# Port Configuration
server:
  port: 8080
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

# Database Configuration
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/naver_market?autoReconnect=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
    username: root
    password: happy
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    database: mysql
    show_sql: false
    properties:
      hibernate.format_sql: true
      hibernate.user_sql_comments: true # 개발 환경에서 SQL 가독성을 높여줍니다.
    hibernate:
      ddl-auto: update
      dialect: org.hibernate.dialect.MySQL8Dialect
      naming-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

  thymeleaf: # Thymeleaf 사용 시 관련 설정
    cache: false
    encoding: UTF-8
    prefix: classpath:templates/
    suffix: .html

  servlet: # Multipart (파일 업로드) 설정
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 100MB
      file-size-threshold: 0 # 이 크기 이상부터 파일 시스템에 임시 저장 (0으로 설정 시 항상 메모리에 저장하지 않고 바로 파일로)

# JWT Configuration
jwt:
  # secret: ${JWT_SECRET_KEY:bmF2ZXJtYXJrZXRwcm9qZWN0and0dG9rZW5zZWNyZXRrZXk=} # 기존 환경 변수 참조 주석 처리
  secret: bmF2ZXJtYXJrZXRwcm9qZWN0and0dG9rZW5zZWNyZXRrZXk=
  access-token-expiration-ms: 1800000 # 30 * 60 * 1000 = 30분
  refresh-token-expiration-ms: 604800000 # 7 * 24 * 60 * 60 * 1000 = 7일

# File Upload Directory (Backend 서버 기준 로컬 경로)
file:
  upload-dir: ${FILE_UPLOAD_DIR:/app/uploads}

# Logging Configuration (콘솔 로그 한글 깨짐 방지 및 상세 로깅 설정)
logging:
  charset:
    console: UTF-8
    file: UTF-8

  level: # 특정 패키지 및 기능에 대한 로그 레벨 설정
    dev.seo.navermarket: INFO
    root: INFO
    org:
      springframework:
        transaction: TRACE
        security:
        web:
          FilterChainProxy: DEBUG
      orm:
        jpa:
          JpaTransactionManager: TRACE
      hibernate:
        SQL: DEBUG
        type:
          descriptor:
            sql:
              BasicBinder: TRACE
        resource:
          transaction:
            backend:
              jdbc:
                internal:
                  JdbcResourceLocalTransactionCoordinatorImpl: TRACE